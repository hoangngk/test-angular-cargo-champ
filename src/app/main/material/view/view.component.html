<div class="page">
    <div class="main-title">
        {{ 'MATERIALVIEWPAGE.title' | translate}}
    </div>
    <nb-card>
        <nb-card-body>
            <div class="action-v-btns">
                <a class="delete" nbButton status="danger" (click)="deleteClicked(routeID)"> {{
                    'ORDERSVIEWPAGE.deleteBtn' | translate }}</a>
            </div>
            <div class="col-lg-6 col-md-12 col-sm-12 p-none">

                <div class="sub-title">
                    {{ 'MATERIALVIEWPAGE.info' | translate}}
                    <button nbButton status="basic" size="small" (click)="editClicked()">
                        {{ 'MATERIALVIEWPAGE.editBtn' | translate}}
                    </button>
                </div>
                <table class="table b-table">
                    <tbody>
                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[0] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.articleNumber }}</td>

                        </tr>

                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[1] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.name }}</td>

                        </tr>

                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[2] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.materialGroup }}</td>

                        </tr>

                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[3] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.description }}</td>

                        </tr>

                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[4] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.granulation }}</td>

                        </tr>
                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[5] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.conversionTonneCubicMeter }}</td>

                        </tr>
                        <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[6] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.density }}</td>

                        </tr>

                        <!-- <tr>
                            <td class="col-3">
                                <span>
                                    {{ ('MATERIALVIEWPAGE.formFields' | translate)[3] }}
                                </span>
                            </td>
                            <td>{{ viewDetails?.contacts ? viewDetails?.contacts[0]?.name + ' (' + viewDetails?.contacts[0]?.email +')' : ''}}
                            </td>

                        </tr> -->
                    </tbody>
                </table>
            </div>


            <div class="col-md-12 p-none">
                <div class="sub-title">
                    {{ 'MATERIALVIEWPAGE.locations.title' | translate}}
                </div>
                <div class="search-filter">
                    <div class="search">
                        <nb-action class="control-item">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M6 2.00077C4.93913 2.00077 3.92172 2.42219 3.17157 3.17234C2.42143 3.92248 2 4.9399 2 6.00077C2 7.06163 2.42143 8.07905 3.17157 8.82919C3.92172 9.57934 4.93913 10.0008 6 10.0008C7.06087 10.0008 8.07828 9.57934 8.82843 8.82919C9.57857 8.07905 10 7.06163 10 6.00077C10 4.9399 9.57857 3.92248 8.82843 3.17234C8.07828 2.42219 7.06087 2.00077 6 2.00077ZM1.13461e-07 6.00077C-0.00012039 5.05647 0.222642 4.12548 0.650171 3.28351C1.0777 2.44154 1.69792 1.71236 2.4604 1.15529C3.22287 0.598219 4.10606 0.228978 5.03815 0.0775993C5.97023 -0.0737798 6.92488 -0.00302249 7.82446 0.284117C8.72404 0.571256 9.54315 1.06667 10.2152 1.73006C10.8872 2.39346 11.3931 3.2061 11.6919 4.1019C11.9906 4.9977 12.0737 5.95136 11.9343 6.88532C11.795 7.81928 11.4372 8.70716 10.89 9.47677L15.707 14.2938C15.8892 14.4824 15.99 14.735 15.9877 14.9972C15.9854 15.2594 15.8802 15.5102 15.6948 15.6956C15.5094 15.881 15.2586 15.9862 14.9964 15.9884C14.7342 15.9907 14.4816 15.8899 14.293 15.7078L9.477 10.8918C8.57936 11.53 7.52335 11.9089 6.42468 11.9869C5.326 12.0648 4.22707 11.8389 3.2483 11.3337C2.26953 10.8286 1.44869 10.0638 0.875723 9.12312C0.30276 8.18244 -0.000214051 7.1022 1.13461e-07 6.00077Z"
                                    fill="#B0BABF" />
                            </svg>
                            <input type="text" class="search-field"
                                [placeholder]="'MATERIALVIEWPAGE.locations.searchPlaceholder' | translate">
                        </nb-action>
                    </div>
                </div>
                <table [nbTreeGrid]="dataSource" [nbSort]="dataSource" (sort)="updateSort($event)" class="tree-grid">

                    <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
                    <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns" [class.text-bold]="row.expanded">
                    </tr>

                    <ng-container [nbTreeGridColumnDef]="customColumn">
                        <th nbTreeGridHeaderCell 
                            *nbTreeGridHeaderCellDef>
                            <span [nbSortHeader]="getSortDirection(customColumn)">
                                {{ settingsSubTable.columns[customColumn].title }}
                            </span>
                           
                            <!-- <input type="text" class="form-control" [placeholder]="settingsSubTable?.columns[customColumn]?.title" (keyup)="applyFilter($event.target.value)"> -->
                        </th>
                        <td nbTreeGridCell *nbTreeGridCellDef="let row">
                            <ngx-fs-icon-tree [kind]="row.data.kind" [expanded]="row.expanded"
                                *ngIf="row.data.kind === 'dir'"></ngx-fs-icon-tree>


                            <a href="javascript:void(0)" (click)="redirectLink( row.data.id,row.data['type'])"
                                class="no-anch"> {{
                                row.data[customColumn] }} </a>
                        </td>
                    </ng-container>

                    <ng-container *ngFor="let column of defaultColumns; let index = index"
                        [nbTreeGridColumnDef]="column" [showOn]="getShowOn(index)">
                        <th nbTreeGridHeaderCell  *nbTreeGridHeaderCellDef>
                            <span [nbSortHeader]="getSortDirection(column)">
                                {{ settingsSubTable?.columns[column]?.title }}
                            </span>
                            <!-- <input type="text" class="form-control" [placeholder]="settingsSubTable?.columns[column]?.title" (keyup)="applyFilter($event.target.value)"> -->
                        </th>
                        <td nbTreeGridCell *nbTreeGridCellDef="let row">
                            {{row.data[column] || '-'}}</td>
                    </ng-container>

                </table>
            </div>

        </nb-card-body>
        <nb-card-footer>
            <button class="back-buttton" nbButton status="basic" (click)="redirectToMain()">
                {{ 'MATERIALVIEWPAGE.backBtn' | translate }}
            </button>
        </nb-card-footer>
    </nb-card>
</div>